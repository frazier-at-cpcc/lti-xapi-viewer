<?xml version="1.0" encoding="UTF-8"?>
<cartridge_basiclti_link xmlns="http://www.imsglobal.org/xsd/imslticc_v1p0"
    xmlns:blti="http://www.imsglobal.org/xsd/imsbasiclti_v1p0"
    xmlns:lticm="http://www.imsglobal.org/xsd/imslticm_v1p0"
    xmlns:lticp="http://www.imsglobal.org/xsd/imslticp_v1p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imslticc_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticc_v1p0.xsd
    http://www.imsglobal.org/xsd/imsbasiclti_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imsbasiclti_v1p0p1.xsd
    http://www.imsglobal.org/xsd/imslticm_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticm_v1p0.xsd
    http://www.imsglobal.org/xsd/imslticp_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticp_v1p0.xsd">

    <blti:title>xAPI Learning Records Viewer</blti:title>
    <blti:description>View your xAPI learning activity records. Track your progress and verify that activities are being captured for grading.</blti:description>

    <!-- UPDATE THIS URL to match your server -->
    <blti:launch_url>https://lti.labsconnect.org/</blti:launch_url>

    <!-- Enable grade passback -->
    <blti:extensions platform="canvas.instructure.com">
        <lticm:property name="tool_id">xapi_records_viewer</lticm:property>
        <lticm:property name="privacy_level">public</lticm:property>
        <lticm:property name="domain">lti.labsconnect.org</lticm:property>

        <!-- Course navigation (view all records) -->
        <lticm:options name="course_navigation">
            <lticm:property name="enabled">true</lticm:property>
            <lticm:property name="text">My Learning Records</lticm:property>
            <lticm:property name="visibility">members</lticm:property>
        </lticm:options>

        <!-- Assignment selection (for grade passback) -->
        <lticm:options name="assignment_selection">
            <lticm:property name="enabled">true</lticm:property>
            <lticm:property name="text">xAPI Lab Grade</lticm:property>
            <lticm:property name="message_type">ContentItemSelectionRequest</lticm:property>
        </lticm:options>

        <!-- Homework submission (external tool assignment) -->
        <lticm:options name="homework_submission">
            <lticm:property name="enabled">true</lticm:property>
            <lticm:property name="text">Submit Lab Grade</lticm:property>
        </lticm:options>
    </blti:extensions>

    <!-- Declare that this tool accepts grades -->
    <blti:custom>
        <lticm:property name="canvas_assignment_id">$Canvas.assignment.id</lticm:property>
        <lticm:property name="canvas_assignment_title">$Canvas.assignment.title</lticm:property>
    </blti:custom>

    <cartridge_bundle identifierref="BLTI001_Bundle"/>
    <cartridge_icon identifierref="BLTI001_Icon"/>
</cartridge_basiclti_link>
